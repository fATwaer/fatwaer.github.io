<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.81.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>DOS实模式的搭建&nbsp;&ndash;&nbsp;Pwaer</title><link rel="stylesheet" href="/css/core.min.7aa9d4cc04ba4a82c92b7646faa3856d1ab5b339e635dde4d873668e74feeaea520ef4746058ac8a8526f8c66462907f.css" integrity="sha384-eqnUzAS6SoLJK3ZG&#43;qOFbRq1sznmNd3k2HNmjnT&#43;6upSDvR0YFisioUm&#43;MZkYpB/"><meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="DOS实模式的搭建" /><body><section id="header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><img class="site logo" src="/whoami/1.jpg" alt /><span class="site name">Pwaer</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/categories/">Categories</a><a class="nav item" href="/tags/">Tags</a><a class="nav item" href="/about">About</a><a class="nav item" href="https://gohugo%2eio/"target="_blank" rel="noopener noreferrer">Hugo</a></nav></div></span></div><div class="site slogan"><span class="title">There're learning machine...</span></div></section><section id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">DOS实模式的搭建</h1><p class="article date">Friday, November 17, 2017</p></section><article class="article markdown-body"><h3 id="前言">前言</h3>
<p>王爽老师的《汇编语言》中练习习题8中，有要求在DOS实模式下操作汇编代码。
之前一直用的是windows 2003的CMD中自带的debug调试，所以趁这次机会，把DOS环境搭建一下。</p>
<h3 id="安装">安装</h3>
<p>安装方法和普通ISO文件安装方法差不多，首先选择ISO文件、对应的操作系统，然后用vmware的默认硬件甚至一步一步确定就行。</p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/1.png"
        alt="1.png"/></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/2.png"
        alt="2.png"/></p>
<p>接下来，启动虚拟机，会弹出一个选择页面，等待一段时间后会自动跳转到安装界面。</p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/3.png"
        alt="3.png"/></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/4.png"
        alt="4.png"/></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/5.png"
        alt="5.png"/></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/6.png"
        alt="6.png"/></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/7.png"
        alt="7.png"/></p>
<p>然后会提示重新启动，跟着提示来，会提示一个错误：</p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/8.png"
        alt="8.png"/></p>
<p>这应该是DOS支持的磁盘格式为FAT32，而现在的windows支持的硬盘格式是NTFS，两者格式不兼容导致的。
我们关闭虚拟机重新启动下，在下面这个界面按F2进入BIOS设置首先启动项：</p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/9.png"
        alt="9.png"/></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/10.png"
        alt="10.png"/></p>
<h3 id="修改启动项">修改启动项</h3>
<p>跟着以下步骤操作： img [class names]
<strong>1. → 移动选项卡至 &lsquo;boot&rsquo;</strong>
<strong>2. ↓ 移动选项至 &lsquo;CD-ROM Drive&rsquo;</strong>
<strong>3. 按住 &lsquo;shift&rsquo; 和 &lsquo;+&rsquo; 将选中的CD-ROM Drive向上移动</strong>
<strong>4. 按F10保存退出</strong></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/11.png"
        alt="11.png"/></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/12.png"
        alt="12.png"/></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/13.png"
        alt="13.png"/></p>
<p>此时该虚拟机会重新启动，然后重新进入安装界面。
根据提示，一步一步按确定，基本都是肯定选项。
<strong>[注意]直到提示关于 &lsquo;Adds-On&rsquo; 额外的软件安装，在这里我们选择 &lsquo;Cancel&rsquo; 取消，不进行额外的操作。</strong></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/14.png"
        alt="14.png"/></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/15.png"
        alt="15.png"/></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/16.png"
        alt="16.png"/></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/17.png"
        alt="17.png"/></p>
<p>如图可见，安装成功，重新启动。
重新启动后发现，还是进入的安装界面，这是因为之前在BIOS内设置过优先启动项的缘故。
和之前的操作一样，在vmware动画界面按F2进入BIOS，用<strong>组合键 shift 和 -  将CD-ROM Drive</strong>恢复到原来的位置(默认是第三个)。</p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/19.png"
        alt="19.png"/></p>
<p>好了，到现在完成了DOS的安装了，但是还有个问题，就是VMware并没有给DOS提供vmtools，所以物理机和虚拟机之间传输文件并不方便。</p>
<h3 id="文件传输">文件传输</h3>
<p>首先，我们先关闭DOS虚拟机，然后在<strong>左侧硬件配置</strong>处点击<strong>硬盘</strong>。</p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/20.png"
        alt="20.png"/></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/21.png"
        alt="21.png"/></p>
<p>根据红色箭头提示，点击<strong>映射</strong>。</p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/22.png"
        alt="22.png"/></p>
<p>然后把**&ldquo;以只读文件模式打开文件&rdquo;**前面的勾去掉，然后关闭警告，打开我的电脑，可以发现本地多出一个磁盘</p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/3.png"
        alt="23.png"/></p>
<p>打开后可以看到DOS的实际文件，也就是说，我们可以直接对DOS的文件进行操作。
我们可以把自己的要编译的汇编代码放进去。<strong>(图中&quot;lab8.asm&quot;)</strong></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/24.png"
        alt="24.png"/></p>
<p><strong>再断开连接，否则DOS将无法启动。</strong>
最后，我们再验证一下。</p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/25.png"
        alt="25.png"/></p>
<p><img  src="http://py2h8wxnt.bkt.clouddn.com/assembly/dos/26.png"
        alt="26.png"/></p>
<p>如图，纯DOS系统里已经有了自己放进去的文件。</p>
<blockquote>
<p>DOS 7.10.iso 云盘链接  : <a href="http://pan.baidu.com/s/1slPZQot">http://pan.baidu.com/s/1slPZQot</a> 密码: x0ht</p>
</blockquote>
</article><section class="article labels"><a class="category" href=/categories/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/>汇编语言</a><a class="tag" href=/tags/assembly/>Assembly</a></section><section class="article license">CC</section>
</div>
<div class="article bottom"><section class="article navigation"><p><a class="link" href="/blog/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/assemblylab8/"><span class="iconfont icon-article"></span>《汇编语言》 Lab8</a></p><p><a class="link" href="/blog/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/assemblylab6/"><span class="iconfont icon-article"></span>《汇编语言》 Lab6</a></p></section><section class="article discussion"><div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "fatwaer" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></section></div></section><section id="footer"><div class="footer-wrap">
    <p class="copyright">©2019 Notepadium.</p>
    <p class="powerby"><span>Powered&nbsp;by&nbsp;</span><a href="https://gohugo.io" 
        target="_blank" rel="noopener noreferrer">Hugo</a><span>&nbsp;&amp;&nbsp;</span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank" rel="noopener noreferrer">Notepadium</a>
<a href='https://ipv6-test.com/validate.php?url=referer'
  ><img src='https://ipv6-test.com/button-ipv6-80x15.png' 
        alt='ipv6 ready' title='ipv6 ready' border='0' 
/></a>
</p></div>
</section></body>

</html>